LIB_PATH = ./lib/
SRC_PATH = ./src/
BIN_PATH = ./bin/
TEST_PATH = ./test/
CXX = g++
CXXFLAGS = -std=c++11 
CXXBOOST += -lboost_filesystem -lboost_system
LDPATH += 
SOURCES = $(SRC_PATH)$(wildcard *.cpp)
#HEADERS = $(wildcard *.h*)
OBJECTS = $(SOURCES:.cpp=.o)

EXEC = run
TEST_EXEC = test_run

all: $(SOURCES) $(EXEC)

# Main target
$(EXEC):  $(OBJECTS)
	$(CXX) $(OBJECTS_EXCLUDE_TEST_MAIN) -o $(BIN_PATH)$(EXEC) $(CXXBOOST)

#Test 
test : $(OBJECTS)
	$(CXX) $(OBJECTS_EXCLUDE_MAIN) -o $(BIN_PATH)$(TEST_EXEC) $(CXXBOOST)

# To obtain object files
%.o: %.cpp
	$(CXX) $(CXXFLAGS) -c $< -o $(LIB_PATH)$@ $(CXXBOOST)

# To remove generated files
clean:
	rm -f $(EXEC) $(TEST_EXEC) $(LIB_PATH)$(OBJECTS)
